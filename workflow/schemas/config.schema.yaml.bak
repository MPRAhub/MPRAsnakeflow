---
$schema: "http://json-schema.org/draft-04/schema#"

description: snakemake configuration file

type: object

# possible entries of the config file

additionalProperties:
  description: name of the project
  type: object
  properties:
    bc_length:
      type: integer
    umi_length:
      type: integer
    data_folder:
      type: string
    experiment_file:
      type: string
    demultiplex:
      type: boolean
    design_file:
      type: string
    label_file:
      type: string
    assignments:
      type: object
      additionalProperties:
        type: string
    configs:
      type: object
      additionalProperties:
        type: object
        properties:
          bc_threshold:
            type: integer
          downsampling:
            type: integer
          minDNACounts:
            type: integer
          minRNACounts:
            type: integer
        required:
          - bc_threshold
          - minDNACounts
          - minRNACounts
    variants:
      type: object
      properties:
        map:
          type: string
        min_barcodes:
          type: array
          items: 
            type: integer
      required:
        - map
        - min_barcodes
  # entries that have to be in the config file for successful validation
  required:
    - bc_length
    - umi_length
    - data_folder
    - experiment_file
    - demultiplex
    - design_file
    - assignments
